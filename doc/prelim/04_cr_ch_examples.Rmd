# Example Cr Change Models

## Logistic Regression Model

$$
\begin{align}
\log(\text{Odds}(\text{AKI}=1)) &= \beta_0 + \beta_1\cdot\text{Age} + \beta_2\cdot\text{APACHE}_\text{II} + \beta_3\cdot\text{APACHE}_\text{III} \\
  &\qquad + \beta_4\cdot\text{Cr}_\text{Baseline} + \beta_5\cdot\text{PCs_Cardio} + \beta_6\cdot\text{Vasopressor} \\
  &\qquad + \beta_7\cdot\text{Diabetes} + \beta_8\cdot\text{AF} + \beta_9\cdot\text{IHD} + \beta_{10}\cdot\text{HF} \\
  &\qquad + \beta_{11}\cdot\text{HT} + \beta_{12}\cdot\text{PVD} + \beta_{13}\cdot\text{ChronicLiverDisease} \\
  &\qquad + \boxed{\beta_{14}\cdot\Delta\text{cr}} + \boxed{\beta_{15}\cdot\text{cr}}
\end{align}
$$

Here you can see that two more terms are added into the model. The first added term $\beta_{14}\cdot\Delta\text{cr}$ is the creatinine change during an event. The second added term is $\beta_{15}\cdot\text{cr}$ and is the creatinine level after the event.

```{r 20_cr_ch_only, include=FALSE, cache=FALSE}
knitr::read_chunk(file.path(rel_path, "R", "20_cr_ch_only.R"))
```

```{r baseline_df, echo=FALSE}
```

```{r cr_ch_function, echo=FALSE}
```

```{r generate_example_fun, echo=FALSE}
```

## Example 1

```{r example_1, echo=TRUE, fig.width=9}
```

Interestly, now you can see that Age is a highly significant variable whereas it was not in the baseline model.

## Example 2

```{r example_2, echo=TRUE, fig.width=9}
```

This model has much fewer admissions, but has a much higher ROC value. There must be some parsimonious model with the best predictor, minimum variables but maximum included number of admissions.
